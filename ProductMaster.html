<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.css" integrity="sha512-8bHTC73gkZ7rZ7vpqUQThUDhqcNFyYi2xgDgPDHc+GXVGHXq+xPjynxIopALmOPqzo9JZj0k6OqqewdGO3EsrQ==" crossorigin="anonymous" />
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.5.1/knockout-latest.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/knockout-validation/2.0.4/knockout.validation.js"></script>
    <script type="text/javascript" src="productsClient.js"></script>
    <script type="text/javascript" src="productsGrid.js"></script>
    <title>ProductMaster</title>
  </head>
  <body>
    <div class="ui container">
      <div class="ui inverted segment">
        <h2 class="ui header">
          <img class="ui image" src="Money.png" style="width: 50px; height: 50px" />
          <div class="content">Products Catalog</div>
        </h2>
      </div>
      <div>
        <table class="ui orange stackable table">
          <thead>
            <tr>
              <th>ID</th>
              <th>Name</th>
              <th>Description</th>
              <th>Price</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody data-bind="foreach: ProductsGrid.products">
            <tr data-bind="if: diplayMode() === ProductsGrid.displayMode.view">
              <td data-bind="text: data.id"></td>
              <td data-bind="text: data.name"></td>
              <td data-bind="text: data.description"></td>
              <td data-bind="text: data.price"></td>
              <td>
                <button href="#" class="ui mini basic green button" data-bind="click: ProductsGrid.editProduct">Edit</button>
                <button href="#" class="mini ui basic red button" data-bind="click:ProductsGrid.deleteProduct">Delete</button>
              </td>
            </tr>
            <tr data-bind="if: diplayMode()=== ProductsGrid.displayMode.edit">
              <td data-bind="text: data.id"></td>
              <td>
                <div class="ui form">
                  <div class="field">
                    <input type="text" class="form-control" placeholder="Please enter name.." data-bind="value: data.name" />
                  </div>
                </div>
              </td>
              <td>
                <div class="ui form">
                  <div class="field">
                    <input type="text" class="form-control" placeholder="Please enter description.." data-bind="value:data.description" />
                  </div>
                </div>
              </td>
              <td>
                <div class="ui form">
                  <div class="field">
                    <input type="text" class="form-control" placeholder="Please enter price.." data-bind="value:data.price" />
                  </div>
                </div>
              </td>
              <td>
                <a href class="ui mini basic green button" data-bind="visible: data.id() != null, click:ProductsGrid.updateProduct">Update</a>
                <a href class="ui mini basic green button" data-bind="visible: data.id() == null, click:ProductsGrid.saveProduct">Save</a>
                <a href="#" class="ui mini basic red button" data-bind="click: ProductsGrid.deleteProduct">Delete</a>
              </td>
            </tr>
          </tbody>
          <button href="#" class="ui orange basic button" data-bind="click: ProductsGrid.addProduct">Add a Product</button>
        </table>
      </div>
    </div>
  </body>
</html>
